{% extends "base.html" %}

{% block header %}
    {% block title %} List {% endblock %}
{% endblock %}

{% block content %}
    <main>
        <script>
            var data = {{ data|tojson|safe }};
        </script>
        <div id='root' className='my-10 md:max-lg:flex content-start'></div>
        <script type="text/babel">
            const rootElement = document.getElementById('root')
            class EntryList extends React.Component {
                render() {
                    return (
                        <div className="mx-40 my-8 h-45 flex flex-wrap">
                            {this.props.listdata.map(item =>
                                <article className="mx-8  mt-8 w-80  rounded-2xl border border-gray-200 p-1 shadow-lg transition hover:shadow-xl">
                                    <a className="block rounded-xl bg-white p-1 sm:p-6 lg:p-8" href={'/entry/' + item.uuid} >
                                        <div className="mt-1">
                                            <h2 className="text-2xl font-bold text-gray-800 sm:text-xl">
                                                {item.topic}
                                            </h2>
                                            <p className="mt-3 text-sm text-justify line-clamp-5 text-gray-500">
                                                {item.message}
                                            </p>
                                        </div>
                                    </a>
                                </article>
                            )}
                        </div>
                    );
                }
            }
            function App() {
                return (
                    <div>
                        <EntryList name="Entry List" listdata={data}/>
                    </div>
                )
            }
            ReactDOM.render(<App/>, rootElement)
        </script>
    </main>
{% endblock %}