{% extends "base.html" %}

{% block header %}
    {% block title %} List {% endblock %}
{% endblock %}

{% block content %}
    <main>
        <script>
            var data = {{ data|tojson|safe }};
        </script>
        <div id='root' class='md:max-lg:flex content-start'></div>
        <script type="text/babel">
            // Obtain the root
            const rootElement = document.getElementById('root')

            // Create a ES6 class component
            class EntryList extends React.Component {
                // Use the render function to return JSX component
                render() {
                    return (
                        <div class="mx-40 my-8 h-56 flex flex-wrap">
                            {this.props.listdata.map(item =>
                                <article class="mx-8 mt-8 w-80 rounded-2xl border border-gray-200 p-1 shadow-lg transition hover:shadow-xl">
                                    <a class="block rounded-xl bg-white p-1 sm:p-6 lg:p-8" href="">
                                        <div class="mt-1">
                                            <h3 class="text-lg font-bold text-gray-800 sm:text-xl">
                                                {item.topic}
                                            </h3>
                                            <p class="mt-3 text-sm text-gray-500">
                                                {item.message}
                                            </p>
                                        </div>
                                    </a>
                                </article>
                            )}
                        </div>
                    );
                }
            }

            // Create a function to wrap up your component
            function App() {
                return (
                    <div>
                        <EntryList name="Entry List" listdata={data}/>
                    </div>
                )
            }

            // Use the ReactDOM.render to show your component on the browser
            ReactDOM.render(<App/>, rootElement)
        </script>
    </main>
{% endblock %}